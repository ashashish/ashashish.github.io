<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans" rel="stylesheet">
    <title>Landing page with Surfly PIN</title>

    <style type='text/css'>
        html, body {
            min-height: 100vh;
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: "Open Sans", sans-serif;
            display: flex;
        }

        .left-half {
            width: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image {
            height: 100vh;
            width: 100%;
            object-fit: cover;
        }

        .right-half {
            width: 50%;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        h1 {
            font-size: 1.5em;
            text-align: center;
        }

        .tandc-notice {
            font-size: 1em;
            text-align: center;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .tandc-box {
            height: 250px;
            overflow-y: scroll;
            padding: 10px;
            border: 1px solid #ddd;
            background-color: #f9f9f9;
            font-size: 0.9em;
        }

        .code-box {
            text-align: center;
            margin-top: 20px;
            font-size: 1.2em;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #eee;
        }

        .waiting-message {
            text-align: center;
            margin-top: 10px;
            font-size: 1em;
            color: #888;
        }
    </style>
</head>

<body>
    <div class="left-half">
        <img src="https://via.placeholder.com/800x1000" alt="Image Placeholder" class="image">
    </div>

    <div class="right-half">
        <h1>Your 4-Digit Session Code</h1>

        <div class="code-box">
            4-digit code: <b><span id="sessidtarget">...</span></b>
        </div>

        <div class="waiting-message">
            Waiting for Agent to join!
        </div>

        <div class="tandc-notice">
            BY SHARING THE 4-DIGIT CODE BELOW WITH THE AGENT, YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTAND, AND AGREE TO THESE TERMS AND CONDITIONS
        </div>

        <div class="tandc-box">
            <p>Co-Browsing Session Terms and Conditions...</p>
            <!-- Insert terms and conditions text here -->
        </div>
    </div>

    <script>
        // Surfly snippet
        (function(s,u,r,f,l,y){s[f]=s[f]||{init:function(){s[f].q=arguments}};
        l=u.createElement(r);y=u.getElementsByTagName(r)[0];l.async=1;
        l.src='https://surfly.com/surfly.js';y.parentNode.insertBefore(l,y);})
        (window,document,'script','Surfly');

        // Surfly settings
        var settings = {
            widget_key: "9eb008187dca447685c55d80614e1d18", 
            hide_until_agent_joins: true,
            url: "https://google.com"
        };

        // Initialize Surfly and handle session creation
        Surfly.init(settings, function(init) {
            if (init.success && !Surfly.isInsideSession) {
                Surfly.session()
                .on("session_created", function(session, event) {
                    // Display the PIN of the current session
                    document.querySelector("#sessidtarget").innerText = session.pin;
                })
                .startLeader();
            }
        });
    </script>
</body>

</html>
